<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" th:href="@{~/tailwind.css}" />
  <title>IFCTerrain Converter</title>
</head>

<body>

  <header class="bg-body-green shadow-md">
    <div class="max-w-7xl mx-auto py-3 px-4 sm:px-6 lg:px-8">
      <h1
        class="shadow-xl bg-head-green p-2 text-2xl font-bold font-sans leading-tight text-button-green-2 text-center">
        IFCTerrain Online Conversion Tool
      </h1>
    </div>
  </header>
  <main>
    <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">

      <div class="shadow-md border border-gray-200 rounded-md px-5 pt-4 mb-5">
        <div class="mb-4">
          <div class="flex space-x-2">
            <form th:action="@{/ifcterrain}" method="post" enctype="multipart/form-data">
              <input type="file" name="file" id="file" hidden>
              <label for="file" onclick="enableUpload()"
                class="w-28 items-center px-3.5 py-1 border border-button-green-2 rounded-md shadow-sm text-sm font-medium text-black hover:bg-button-green-2 focus:outline-none">
                Choose file</label>
              <script type="text/javascript">
                function enableUpload() {
                  var c = document.getElementById("id1");
                  c.disabled = false;
                }
              </script>
              <label class="py-1 text-gray-700 text-sm font-bold" for="bucket">
                Configurations:
              </label>
              <input
                class="shadow-md w-56 appearance-none border rounded py-1 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                name="configs" id="configs" type="text" required>
              <button disabled id="id1" type="submit" name="upload" onclick=enableDownload()
                class="w-28 items-center px-1 py-1 border border-button-green-2 rounded-md shadow-sm text-sm font-medium text-black hover:bg-button-green-2 focus:outline-none">
                Convert
              </button>
              </script>
            </form>
            <form th:action="@{/ifcterrain/download}" method="get" enctype="application/json">
              <button type="submit" name="download" id="id2"
                class="w-28 items-center px-1 py-1 border border-button-green-2 rounded-md shadow-sm text-sm font-medium text-black hover:bg-button-green-2 focus:outline-none">
                Download IFC
              </button>
            </form>
          </div>

          <div id="statusUpdate" data-th-utext="${#strings.replace(#strings.escapeXml(erg),'&#10;','&lt;br&gt;')}"
            class="overflow-y-scroll h-32 w-2/3 border border-gray-400 mt-2"></div>
        </div>
      </div>

    </div>
  </main>

</body>

</html>